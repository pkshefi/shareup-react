{"ast":null,"code":"var _jsxFileName = \"/Users/mohammedshafeeq/Downloads/Shareup-Project-main/Shareup-react/shareup-react/src/components/chat/ChatComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport UserService from '../../services/UserService';\nimport UserContext from '../../contexts/UserContext';\nimport AuthService from '../../services/auth.services';\nimport FriendsService from '../../services/FriendService';\nimport \"./chatStyle.css\";\nimport \"./chat.js\";\nimport { useJwt } from \"react-jwt\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatComponent() {\n  _s();\n\n  let history = useHistory();\n  const {\n    user\n  } = useContext(UserContext); // const []\n\n  const [allUser, setAllUser] = useState([]);\n  const [friendsList, setFriendsList] = useState([]);\n  const [searchedUser, setSearchedUser] = useState([]);\n\n  const addFriendsId = (uid, fid) => {\n    console.log(\"uid: \" + uid + \" fid: \" + fid);\n    FriendsService.addFriends(uid, fid).then(res => {\n      window.location.reload();\n    });\n  };\n\n  const removeFriend = (uid, fid) => {\n    console.log(\"uid: \" + uid + \" fid: \" + fid);\n    FriendsService.removeFriends(uid, fid).then(res => {\n      window.location.reload();\n    });\n  };\n\n  const getAllUser = async () => {\n    await UserService.getUsers().then(res => {\n      setAllUser(res.data);\n      setSearchedUser(res.data);\n    });\n    console.log(user.email + \" This is the users\");\n  };\n\n  const getFriendsList = async () => {\n    await FriendsService.getFriends(AuthService.getCurrentUser().username).then(res => {\n      setFriendsList(res.data);\n    });\n  };\n\n  const getsadasd = event => {\n    console.log(event.target.value);\n  };\n\n  const handleSearchedUser = event => {\n    if (event.target.value === \"\") {\n      setSearchedUser(allUser);\n    } else {\n      let temp = [];\n      allUser.map(u => {\n        if (u.email.includes(event.target.value)) {\n          temp.push(u);\n        }\n      });\n      setSearchedUser(temp);\n      console.log(temp);\n    }\n  };\n\n  useEffect(() => {\n    getAllUser();\n    getFriendsList();\n    console.log(\"Users = \" + allUser);\n    console.log(\"Friends = \" + friendsList);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container clearfix\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"people-list\",\n      id: \"people-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"userName\",\n          placeholder: \"search\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onclick: \"registration()\",\n          children: \"Enter the chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onclick: \"fetchAll()\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list\",\n        id: \"usersList\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header clearfix\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"avatar\",\n          height: \"55px\",\n          src: \"https://w7.pngwing.com/pngs/643/454/png-transparent-business-game-avatar-computer-program-google-smart-object-game-child-face.png\",\n          width: \"55px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-about\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-with\",\n            id: \"selectedUserId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-num-messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-history\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-message clearfix\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"message-to-send\",\n          name: \"message-to-send\",\n          placeholder: \"Type your message\",\n          rows: 3,\n          defaultValue: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-file-o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), \" \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-file-image-o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"sendBtn\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChatComponent, \"Z9xDk+3TantggqAfjfhcm5DJGUA=\", false, function () {\n  return [useHistory];\n});\n\n_c = ChatComponent;\nexport default ChatComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatComponent\");","map":{"version":3,"sources":["/Users/mohammedshafeeq/Downloads/Shareup-Project-main/Shareup-react/shareup-react/src/components/chat/ChatComponent.jsx"],"names":["React","useState","useEffect","useContext","Redirect","useHistory","Button","Form","UserService","UserContext","AuthService","FriendsService","useJwt","ChatComponent","history","user","allUser","setAllUser","friendsList","setFriendsList","searchedUser","setSearchedUser","addFriendsId","uid","fid","console","log","addFriends","then","res","window","location","reload","removeFriend","removeFriends","getAllUser","getUsers","data","email","getFriendsList","getFriends","getCurrentUser","username","getsadasd","event","target","value","handleSearchedUser","temp","map","u","includes","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport UserService from '../../services/UserService';\r\nimport UserContext from '../../contexts/UserContext';\r\nimport AuthService from '../../services/auth.services';\r\nimport FriendsService from '../../services/FriendService';\r\nimport \"./chatStyle.css\";\r\nimport \"./chat.js\";\r\nimport { useJwt } from \"react-jwt\";\r\n\r\nfunction ChatComponent() {\r\n  let history = useHistory();\r\n\r\n  const { user } = useContext(UserContext)\r\n\r\n  // const []\r\n\r\n  const [allUser, setAllUser] = useState([]);\r\n  const [friendsList, setFriendsList] = useState([]);\r\n  const [searchedUser, setSearchedUser] = useState([]);\r\n\r\n\r\n\r\n  const addFriendsId = (uid,fid) => {\r\n    console.log(\"uid: \" + uid + \" fid: \" + fid)\r\n    FriendsService.addFriends(uid,fid).then(res => {\r\n      window.location.reload();\r\n    })\r\n  }\r\n\r\n  const removeFriend = (uid,fid) => {\r\n    console.log(\"uid: \" + uid + \" fid: \" + fid)\r\n    FriendsService.removeFriends(uid,fid).then(res => {\r\n      window.location.reload();\r\n    })\r\n  }\r\n\r\n  const getAllUser = async () => {\r\n    await UserService.getUsers().then(res => {\r\n      setAllUser(res.data)\r\n      setSearchedUser(res.data)\r\n    })\r\n    console.log(user.email + \" This is the users\")\r\n  }\r\n\r\n  const getFriendsList = async () => {\r\n    await FriendsService.getFriends(AuthService.getCurrentUser().username).then(res => {\r\n      setFriendsList(res.data)\r\n    })\r\n  }\r\n\r\n  const getsadasd = (event) => {\r\n    console.log(event.target.value)\r\n  }\r\n\r\n  const handleSearchedUser = (event) => {\r\n    if(event.target.value === \"\"){\r\n      setSearchedUser(allUser) \r\n    }else{\r\n      let temp = []\r\n      allUser.map(u => {\r\n        if(u.email.includes(event.target.value)){\r\n          temp.push(u)\r\n        }\r\n      })\r\n      setSearchedUser(temp)\r\n      console.log(temp)\r\n    }\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllUser()\r\n    getFriendsList()\r\n    console.log(\"Users = \" + allUser)\r\n    console.log(\"Friends = \" + friendsList)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container clearfix\">\r\n    <div className=\"people-list\" id=\"people-list\">\r\n      <div className=\"search\">\r\n        <input id=\"userName\" placeholder=\"search\" type=\"text\" />\r\n        <button onclick=\"registration()\">Enter the chat</button>\r\n        <button onclick=\"fetchAll()\">Refresh</button>\r\n      </div>\r\n      <ul className=\"list\" id=\"usersList\">\r\n      </ul>\r\n    </div>\r\n    <div className=\"chat\">\r\n      <div className=\"chat-header clearfix\">\r\n        <img alt=\"avatar\" height=\"55px\" src=\"https://w7.pngwing.com/pngs/643/454/png-transparent-business-game-avatar-computer-program-google-smart-object-game-child-face.png\" width=\"55px\" />\r\n        <div className=\"chat-about\">\r\n          <div className=\"chat-with\" id=\"selectedUserId\" />\r\n          <div className=\"chat-num-messages\" />\r\n        </div>\r\n        <i className=\"fa fa-star\" />\r\n      </div> {/* end chat-header */}\r\n      <div className=\"chat-history\">\r\n        <ul>\r\n        </ul>\r\n      </div> {/* end chat-history */}\r\n      <div className=\"chat-message clearfix\">\r\n        <textarea id=\"message-to-send\" name=\"message-to-send\" placeholder=\"Type your message\" rows={3} defaultValue={\"\"} />\r\n        <i className=\"fa fa-file-o\" /> &nbsp;&nbsp;&nbsp;\r\n        <i className=\"fa fa-file-image-o\" />\r\n        <button id=\"sendBtn\">Send</button>\r\n      </div> {/* end chat-message */}\r\n    </div> {/* end chat */}\r\n  </div>\r\n\r\n  );\r\n}\r\nexport default ChatComponent;"]},"metadata":{},"sourceType":"module"}