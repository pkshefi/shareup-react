{"ast":null,"code":"import axios from 'axios';\nimport AuthService from './auth.services';\nlet authAxios = null;\n\nconst authenticate = () => {\n  if (AuthService.getCurrentUser()) {\n    authAxios = axios.create({\n      baseURL: 'http://192.168.100.2:8080/api/v1/',\n      headers: {\n        Authorization: `Bearer ${AuthService.getCurrentUser().jwt}`\n      }\n    });\n  } else {\n    authAxios = axios.create({\n      baseURL: 'http://192.168.100.2:8080/api/v1/'\n    });\n  }\n};\n\nauthenticate();\n\nclass SwapService {\n  constructor() {\n    this.getSwap = async () => {\n      authenticate();\n      const result = await authAxios.get('swaps/');\n      return result;\n    };\n\n    this.getSwapForUser = async email => {\n      authenticate();\n      const result = await authAxios.get(`swaps/${email}`);\n      return result;\n    };\n\n    this.getSavedSwapForUser = async email => {\n      authenticate();\n      const result = await authAxios.get(`swaps/${email}/saved_swaps`);\n      return result;\n    };\n\n    this.createSwap = async (userId, formdata) => {\n      const result = await authAxios.post(`swaps/${userId}`, formdata);\n      return result;\n    };\n\n    this.updateSwap = async (swapId, swap) => {\n      const result = await authAxios.put(`swaps/${swapId}`, swap);\n      return result;\n    };\n\n    this.deleteSwap = async swapid => {\n      const result = await authAxios.delete(`swaps/${swapid}`);\n      return result;\n    };\n\n    this.addComment = async (userid, swapid, comment) => {\n      const result = await authAxios.post(`comment/${userid}/${swapid}`, comment);\n      return result;\n    };\n\n    this.deleteComment = async commentid => {\n      const result = await authAxios.delete(`comment/${commentid}`);\n      return result;\n    };\n  }\n\n}\n\nexport default new SwapService();","map":{"version":3,"sources":["/Users/mohammedshafeeq/Downloads/Shareup-Project-main/Shareup-react/shareup-react/src/services/SwapService.js"],"names":["axios","AuthService","authAxios","authenticate","getCurrentUser","create","baseURL","headers","Authorization","jwt","SwapService","getSwap","result","get","getSwapForUser","email","getSavedSwapForUser","createSwap","userId","formdata","post","updateSwap","swapId","swap","put","deleteSwap","swapid","delete","addComment","userid","comment","deleteComment","commentid"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AAEA,IAAIC,SAAS,GAAG,IAAhB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,MAAGF,WAAW,CAACG,cAAZ,EAAH,EAAgC;AAC5BF,IAAAA,SAAS,GAAGF,KAAK,CAACK,MAAN,CAAa;AACrBC,MAAAA,OAAO,EAAE,mCADY;AAErBC,MAAAA,OAAO,EAAE;AAELC,QAAAA,aAAa,EAAG,UAASP,WAAW,CAACG,cAAZ,GAA6BK,GAAI;AAFrD;AAFY,KAAb,CAAZ;AAOH,GARD,MAQK;AACDP,IAAAA,SAAS,GAAGF,KAAK,CAACK,MAAN,CAAa;AACrBC,MAAAA,OAAO,EAAE;AADY,KAAb,CAAZ;AAGH;AACJ,CAdD;;AAeAH,YAAY;;AAEZ,MAAMO,WAAN,CAAkB;AAAA;AAAA,SACdC,OADc,GACJ,YAAY;AAClBR,MAAAA,YAAY;AACZ,YAAMS,MAAM,GAAG,MAAMV,SAAS,CAACW,GAAV,CAAc,QAAd,CAArB;AACA,aAAOD,MAAP;AACH,KALa;;AAAA,SAadE,cAbc,GAaG,MAAOC,KAAP,IAAiB;AAC9BZ,MAAAA,YAAY;AACZ,YAAMS,MAAM,GAAG,MAAMV,SAAS,CAACW,GAAV,CAAe,SAAQE,KAAM,EAA7B,CAArB;AACA,aAAOH,MAAP;AACH,KAjBa;;AAAA,SAmBdI,mBAnBc,GAmBQ,MAAOD,KAAP,IAAiB;AACnCZ,MAAAA,YAAY;AACZ,YAAMS,MAAM,GAAG,MAAMV,SAAS,CAACW,GAAV,CAAe,SAAQE,KAAM,cAA7B,CAArB;AACA,aAAOH,MAAP;AACH,KAvBa;;AAAA,SAyBdK,UAzBc,GAyBD,OAAOC,MAAP,EAAeC,QAAf,KAA4B;AACrC,YAAMP,MAAM,GAAG,MAAMV,SAAS,CAACkB,IAAV,CAAgB,SAAQF,MAAO,EAA/B,EAAiCC,QAAjC,CAArB;AACA,aAAOP,MAAP;AACH,KA5Ba;;AAAA,SA8BdS,UA9Bc,GA8BD,OAAOC,MAAP,EAAeC,IAAf,KAAwB;AACjC,YAAMX,MAAM,GAAG,MAAMV,SAAS,CAACsB,GAAV,CAAe,SAAQF,MAAO,EAA9B,EAAiCC,IAAjC,CAArB;AACA,aAAOX,MAAP;AACH,KAjCa;;AAAA,SAmCda,UAnCc,GAmCD,MAAOC,MAAP,IAAkB;AAC3B,YAAMd,MAAM,GAAG,MAAMV,SAAS,CAACyB,MAAV,CAAkB,SAAQD,MAAO,EAAjC,CAArB;AACA,aAAOd,MAAP;AACH,KAtCa;;AAAA,SAwCdgB,UAxCc,GAwCD,OAAOC,MAAP,EAAeH,MAAf,EAAuBI,OAAvB,KAAmC;AAC5C,YAAMlB,MAAM,GAAG,MAAMV,SAAS,CAACkB,IAAV,CAAgB,WAAUS,MAAO,IAAGH,MAAO,EAA3C,EAA8CI,OAA9C,CAArB;AACA,aAAOlB,MAAP;AACH,KA3Ca;;AAAA,SA6CdmB,aA7Cc,GA6CE,MAAOC,SAAP,IAAqB;AACjC,YAAMpB,MAAM,GAAG,MAAMV,SAAS,CAACyB,MAAV,CAAkB,WAAUK,SAAU,EAAtC,CAArB;AACA,aAAOpB,MAAP;AACH,KAhDa;AAAA;;AAAA;;AAmDlB,eAAe,IAAIF,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\nimport AuthService from './auth.services';\r\n\r\nlet authAxios = null;\r\n\r\nconst authenticate = () => {\r\n    if(AuthService.getCurrentUser()){\r\n        authAxios = axios.create({\r\n            baseURL: 'http://192.168.100.2:8080/api/v1/',\r\n            headers: {\r\n                \r\n                Authorization: `Bearer ${AuthService.getCurrentUser().jwt}`\r\n            }\r\n        })\r\n    }else{\r\n        authAxios = axios.create({\r\n            baseURL: 'http://192.168.100.2:8080/api/v1/'\r\n        })\r\n    }\r\n}\r\nauthenticate();\r\n\r\nclass SwapService {\r\n    getSwap = async () => {\r\n        authenticate();\r\n        const result = await authAxios.get('swaps/')\r\n        return result;\r\n    }\r\n\r\n    // getPostForUser = async (id) => {\r\n    //     authenticate();\r\n    //     const result = await authAxios.get(`posts/${id}`)\r\n    //     return result;\r\n    // }\r\n\r\n    getSwapForUser = async (email) => {\r\n        authenticate();\r\n        const result = await authAxios.get(`swaps/${email}`)\r\n        return result;\r\n    }\r\n\r\n    getSavedSwapForUser = async (email) => {\r\n        authenticate();\r\n        const result = await authAxios.get(`swaps/${email}/saved_swaps`)\r\n        return result;\r\n    }\r\n\r\n    createSwap = async (userId, formdata) => {\r\n        const result = await authAxios.post(`swaps/${userId}`,formdata)\r\n        return result\r\n    }\r\n\r\n    updateSwap = async (swapId, swap) => {\r\n        const result = await authAxios.put(`swaps/${swapId}`, swap)\r\n        return result;\r\n    }\r\n\r\n    deleteSwap = async (swapid) => {\r\n        const result = await authAxios.delete(`swaps/${swapid}`)\r\n        return result\r\n    }\r\n\r\n    addComment = async (userid, swapid, comment) => {\r\n        const result = await authAxios.post(`comment/${userid}/${swapid}`, comment)\r\n        return result\r\n    }\r\n\r\n    deleteComment = async (commentid) => {\r\n        const result = await authAxios.delete(`comment/${commentid}`)\r\n        return result\r\n    }\r\n}\r\n\r\nexport default new SwapService();"]},"metadata":{},"sourceType":"module"}