{"ast":null,"code":"var _jsxFileName = \"/Users/mohammedshafeeq/Downloads/Shareup-Project-main/Shareup-react/shareup-react/src/components/Messages/MessagesComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport UserService from '../../services/UserService';\nimport UserContext from '../../contexts/UserContext';\nimport AuthService from '../../services/auth.services';\nimport { testScript } from '../../js/script';\nimport FriendsService from '../../services/FriendService';\nimport ShareupInsideHeaderComponent from '../dashboard/ShareupInsideHeaderComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MessagesComponent() {\n  _s();\n\n  let history = useHistory();\n  const {\n    user\n  } = useContext(UserContext); // const []\n  // const inputRef = createRef();\n\n  const [friendsList, setFriendsList] = useState([]);\n  const [allUser, setAllUser] = useState([]);\n  const [stories, setStories] = useState([]);\n  const [refresh, setRefresh] = useState(null);\n  const [userR, setUserR] = useState(null);\n  const [searchedUser, setSearchedUser] = useState([]);\n\n  const handleChat = userM => {\n    setUserR(userM);\n    console.log(userM);\n  };\n\n  const handleSearchedUser = event => {\n    if (event.target.value === \"\") {\n      setSearchedUser(allUser);\n    } else {\n      let temp = [];\n      allUser.map(u => {\n        const email = u.email.toLowerCase();\n        const firstname = u.firstName.toLowerCase();\n        const lastname = u.lastName.toLowerCase();\n        const searchedvalue = event.target.value.toLowerCase();\n\n        if (email.includes(searchedvalue) || firstname.includes(searchedvalue) || lastname.includes(searchedvalue)) {\n          temp.push(u);\n        }\n      });\n      setSearchedUser(temp);\n      console.log(temp);\n    }\n  };\n\n  const getAllUser = async () => {\n    await UserService.getUsers().then(res => {\n      setAllUser(res.data);\n      setSearchedUser(res.data);\n    });\n    console.log(user.email + \" This is the users\");\n  };\n\n  const getFriendsList = async () => {\n    await FriendsService.getFriends(AuthService.getCurrentUser().username).then(res => {\n      setFriendsList(res.data);\n    });\n  };\n\n  useEffect(() => {\n    getAllUser();\n    getFriendsList();\n    testScript();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ShareupInsideHeaderComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"central-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"msgHead\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/profile/${user.email}`,\n            title: `${user.email}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"msgprof\",\n              style: {\n                objectFit: 'cover'\n              },\n              src: user.profilePicturePath,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                paddingLeft: '10px',\n                fontWeight: 'bold',\n                fontSize: '15px'\n              },\n              children: `${user.firstName} ${user.lastName}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 162\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                paddingLeft: '20px',\n                fontWeight: '900'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/images/msgarrw.svg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"search-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"las la-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"friend-search\",\n            type: \"text\",\n            id: \"header-search\",\n            placeholder: \"Search Users\",\n            name: \"s\",\n            onChange: handleSearchedUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"cntnrScrll\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: searchedUser.map(userM => user.id !== userM.id ? /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"friends-card\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#!\",\n                onClick: () => handleChat(userM),\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"item1\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `/profile/${userM.email}`,\n                      title: `${userM.email}`,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          objectFit: 'cover'\n                        },\n                        src: userM.profilePicturePath,\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 98\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"item2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"nameTagMsg\",\n                      children: `${userM.firstName} ${userM.lastName}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"item5 actv\",\n                      children: \"Active 2 mints ago\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 73\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 25\n              }, this)\n            }, userM.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this) : null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-message \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '10%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"msgTop\",\n            children: [userR ? /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/profile/${userR.email}`,\n              title: `${userR.email}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"msgprof\",\n                style: {\n                  objectFit: 'cover'\n                },\n                src: userR.profilePicturePath,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 74\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  paddingLeft: '10px',\n                  fontWeight: 'bold',\n                  fontSize: '15px'\n                },\n                children: `${userR.firstName} ${userR.lastName}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 167\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              title: \"user\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"msgprof\",\n                style: {\n                  objectFit: 'cover'\n                },\n                src: \"https://freeiconshop.com/wp-content/uploads/edd/many-people-outline.png\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  paddingLeft: '10px',\n                  fontWeight: 'bold',\n                  fontSize: '15px'\n                },\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 183\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"msgic\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  paddingRight: '10px',\n                  display: 'inline'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/assets/images/callicon.svg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 88\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 36\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  paddingRight: '10px',\n                  display: 'inline'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/assets/images/videoicon.svg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 186\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 134\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"AreaMsg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"txtAreaMsg\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"chat-text\",\n            placeholder: \"Type message\",\n            name: \"s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-microphicon\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              width: \"20\",\n              src: \"/assets/images/picmsg.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-stckricon\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              width: \"20\",\n              src: \"/assets/images/stckrmsg.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-picicon\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              width: \"20\",\n              src: \"/assets/images/mic.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MessagesComponent, \"3vCQ30tIvoDURFQph/YpUDJmuMs=\", false, function () {\n  return [useHistory];\n});\n\n_c = MessagesComponent;\nexport default MessagesComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessagesComponent\");","map":{"version":3,"sources":["/Users/mohammedshafeeq/Downloads/Shareup-Project-main/Shareup-react/shareup-react/src/components/Messages/MessagesComponent.jsx"],"names":["React","useState","useEffect","useContext","useRef","Redirect","useHistory","UserService","UserContext","AuthService","testScript","FriendsService","ShareupInsideHeaderComponent","MessagesComponent","history","user","friendsList","setFriendsList","allUser","setAllUser","stories","setStories","refresh","setRefresh","userR","setUserR","searchedUser","setSearchedUser","handleChat","userM","console","log","handleSearchedUser","event","target","value","temp","map","u","email","toLowerCase","firstname","firstName","lastname","lastName","searchedvalue","includes","push","getAllUser","getUsers","then","res","data","getFriendsList","getFriends","getCurrentUser","username","objectFit","profilePicturePath","paddingLeft","fontWeight","fontSize","id","height","paddingRight","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext,useRef,  } from 'react';\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport UserService from '../../services/UserService';\r\nimport UserContext from '../../contexts/UserContext';\r\nimport AuthService from '../../services/auth.services';\r\nimport { testScript } from '../../js/script';\r\nimport FriendsService from '../../services/FriendService';\r\nimport ShareupInsideHeaderComponent from '../dashboard/ShareupInsideHeaderComponent';\r\n\r\n\r\nfunction MessagesComponent() {\r\n   \r\n    let history = useHistory();\r\n    const { user } = useContext(UserContext)\r\n  \r\n    // const []\r\n  \r\n    // const inputRef = createRef();\r\n  \r\n    \r\n   \r\n    const [friendsList, setFriendsList] = useState([]);\r\n    const [allUser, setAllUser] = useState([]);\r\n    const [stories, setStories] = useState([]);\r\n    const [refresh, setRefresh] = useState(null)\r\n    const [userR, setUserR] = useState(null);\r\n    const [searchedUser, setSearchedUser] = useState([]);\r\n    \r\n    const handleChat = (userM)=>{\r\n     setUserR(userM)\r\n     console.log(userM) \r\n    }\r\n    const handleSearchedUser = (event) => {\r\n        if (event.target.value === \"\") {\r\n            setSearchedUser(allUser)\r\n        } else {\r\n            let temp = []\r\n            allUser.map(u => {\r\n                const email = u.email.toLowerCase()\r\n                const firstname = u.firstName.toLowerCase()\r\n                const lastname = u.lastName.toLowerCase()\r\n                const searchedvalue = event.target.value.toLowerCase()\r\n                if (email.includes(searchedvalue) || firstname.includes(searchedvalue) || lastname.includes(searchedvalue)) {\r\n                    temp.push(u)\r\n                }\r\n            })\r\n            setSearchedUser(temp)\r\n            console.log(temp)\r\n        }\r\n    }\r\n    const getAllUser = async () => {\r\n        await UserService.getUsers().then(res => {\r\n            setAllUser(res.data)\r\n            setSearchedUser(res.data)\r\n        })\r\n        console.log(user.email + \" This is the users\")\r\n    }\r\n    const getFriendsList = async () => {\r\n        await FriendsService.getFriends(AuthService.getCurrentUser().username).then(res => {\r\n            setFriendsList(res.data)\r\n        })\r\n    }\r\n  \r\n    useEffect(() => {\r\n        getAllUser()\r\n        getFriendsList()\r\n        testScript()\r\n    },[])\r\n    \r\n    \r\n    return (<>\r\n<ShareupInsideHeaderComponent/>\r\n<div className=\"central-message\">\r\n        <div className=\"left-message\">\r\n          <div className=\"msgHead\">\r\n            \r\n          <a href={`/profile/${user.email}`} title={`${user.email}`}><img className=\"msgprof\" style={{objectFit:'cover'}} src={user.profilePicturePath} alt=\"\" /><span style={{paddingLeft:'10px',fontWeight:'bold',fontSize:'15px'}}>{`${user.firstName} ${user.lastName}`}</span>\r\n          <span  style={{paddingLeft:'20px',fontWeight:'900'}}><img src=\"/assets/images/msgarrw.svg\"/></span></a>\r\n          </div>\r\n          <div class=\"search-container\">\r\n            <i class=\"las la-search\"></i><input className=\"friend-search\" type=\"text\" id=\"header-search\" placeholder=\"Search Users\" name=\"s\" onChange={handleSearchedUser} />\r\n        </div>\r\n        <div class=\"cntnrScrll\">\r\n        <ul>\r\n        \r\n                {searchedUser.map(\r\n                    userM =>\r\n                    (user.id !== userM.id) ?\r\n                        <li key={userM.id} className=\"friends-card\">\r\n                        <a href=\"#!\" onClick={() => handleChat(userM)}> <div className=\"grid-container\">\r\n                                {/* <figure> */}\r\n                                <div class=\"item1\">\r\n                                    <a href={`/profile/${userM.email}`} title={`${userM.email}`}><img style={{objectFit:'cover'}} src={userM.profilePicturePath} alt=\"\" /></a>\r\n                                    {/* </figure> */}\r\n                                    \r\n                                </div>\r\n                                <div class=\"item2\"><p className=\"nameTagMsg\">{`${userM.firstName} ${userM.lastName}`}</p>\r\n                                <div class=\"item5 actv\">Active 2 mints ago</div>\r\n                                </div>\r\n                                {/* <div className=\"  \"> */}\r\n                              </div></a>\r\n                        </li>\r\n                         :null\r\n                )}\r\n            </ul></div>\r\n        </div>\r\n\r\n        <div className=\"right-message \">\r\n        <div style={{height:'10%'}}><div className=\"msgTop\">\r\n        {userR ?\r\n            <a href={`/profile/${userR.email}`} title={`${userR.email}`}><img className=\"msgprof\" style={{objectFit:'cover'}} src={userR.profilePicturePath} alt=\"\" /><span style={{paddingLeft:'10px',fontWeight:'bold',fontSize:'15px'}}>{`${userR.firstName} ${userR.lastName}`}</span>\r\n            </a>:<a href=\"#\" title=\"user\"><img className=\"msgprof\" style={{objectFit:'cover'}} src=\"https://freeiconshop.com/wp-content/uploads/edd/many-people-outline.png\" alt=\"\" /><span style={{paddingLeft:'10px',fontWeight:'bold',fontSize:'15px'}}>User</span>\r\n            </a>}\r\n            <div className=\"msgic\"><div style={{paddingRight:'10px',display:'inline'}}><img src=\"/assets/images/callicon.svg\"/></div><div style={{paddingRight:'10px',display:'inline'}}><img src=\"/assets/images/videoicon.svg\"/></div></div>\r\n            </div>\r\n            \r\n            </div>\r\n            <div className=\"AreaMsg\"></div>\r\n            <div className=\"txtAreaMsg\"><input className=\"chat-text\"  placeholder=\"Type message\" name=\"s\" >\r\n               \r\n                </input>\r\n               <div className=\"add-microphicon\"> <img width=\"20\" src=\"/assets/images/picmsg.svg\"/></div>\r\n               <div className=\"add-stckricon\"> <img  width=\"20\" src=\"/assets/images/stckrmsg.svg\"/></div>\r\n               <div className=\"add-picicon\"> <img  width=\"20\" src=\"/assets/images/mic.svg\"/></div>\r\n               </div>\r\n        </div>\r\n\r\n      </div>\r\n        \r\n\r\n      \r\n     </>\r\n     \r\n        );\r\n    }\r\n\r\nexport default MessagesComponent;"]},"metadata":{},"sourceType":"module"}